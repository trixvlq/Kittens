# Online Cat Exhibition API

## Описание проекта

Проект представляет собой REST API для онлайн-выставки котят. Пользователи могут добавлять, изменять и удалять информацию о котятах, оценивать котят других пользователей, просматривать списки пород и котят, а также фильтровать котят по породам. Реализована аутентификация и авторизация с помощью JWT токенов. 

## Стек технологий

- Python 3.10
- Django
- Django REST Framework (DRF)
- PostgreSQL
- Docker / Docker Compose
- JWT (аутентификация через Simple JWT)
- Djoser (регистрация и управление пользователями)
- Pytest (тестирование)

## Функционал API

- Получение списка пород.
- Получение списка всех котят.
- Получение списка котят определенной породы (фильтрация).
- Получение подробной информации о котенке.
- Добавление котенка.
- Изменение информации о котенке.
- Удаление котенка.
- Оценка котенка (от 1 до 5).
- JWT аутентификация и авторизация (регистрация через Djoser).

## Установка и запуск

### 1. Клонирование репозитория

```bash
git clone https://github.com/trixvlq/Kittens.git
cd repository
```

### 2. Настройка `.env` файла

Создайте файл `.env` в корне проекта и добавьте в него следующие переменные:

```bash
DATABASE=CATS_DB
DBNAME=cats_db
DBUSER=cats_user
DBPASS=cats_password
DBPORT=5432
```

### 3. Установка Docker и Docker Compose

Убедитесь, что на вашем компьютере установлены **Docker** и **Docker Compose**. Вы можете загрузить их с официального сайта:

- [Docker Installation](https://docs.docker.com/get-docker/)
- [Docker Compose Installation](https://docs.docker.com/compose/install/)

### 4. Сборка и запуск приложения

Запустите команду для сборки контейнеров и запуска приложения:

```bash
docker-compose up --build
```

После сборки и запуска сервер будет доступен по адресу: `http://localhost:8000`

### 5. Документация API (Swagger)

API документация доступна по адресу:

```
http://localhost:8000/swagger/
```

### 6. Миграции базы данных

Миграции базы данных выполняются автоматически при запуске контейнеров.

### 7. Запуск тестов

Для запуска тестов используйте следующую команду:

```bash
docker-compose run tests
```

Эта команда выполнит миграции и запустит тесты через `pytest`.

## Основные эндпоинты API

- **POST** `/auth/users/` — регистрация нового пользователя.
- **POST** `/auth/jwt/create/` — получение JWT токенов.
- **GET** `/breeds/` — список всех пород.
- **GET** `/cats/` — список всех котят.
- **GET** `/cats/<int:id>/` — информация о конкретном котенке.
- **POST** `/cats/create/` — добавление нового котенка (требуется авторизация).
- **PUT/PATCH/DELETE** `/cats/<int:id>/` — изменение или удаление котенка (только автор).

## Docker команды

- **Запуск приложения:** `docker-compose up`
- **Остановка приложения:** `docker-compose down`
- **Запуск тестов:** `docker-compose run tests`
- **Пересборка контейнеров:** `docker-compose up --build`
